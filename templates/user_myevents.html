<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Events</title>
    
    <link rel="stylesheet" href="/static/specific-event.css">
    <link rel="stylesheet" href="/static/user_myevents.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body>
  <nav class="navbar fixed-top navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid">
      <strong class="text-primary-emphasis"><a class="navbar-brand" href="#">{{user.name}}'s Dashboard</a> </strong>
      <a class="btn btn-danger btn-sm" href="/">Logout</a>
    </div>
  </nav>


  <div class="sidebar pt-5">
      <a class="active disabled" href="#myevents" id="myeventsbtn" >My Events</a>
      <a href="#allevents" id="alleventsbtn">Public Events</a>
      <a href="#organize" id="organizebtn">Organize</a>
  </div>

      
    <div class="content">
      <div class="active pt-5" id="myevents">
          <h1 class="pt-1">My Events</h1>
          {% if events|length == 0 %}
            <p>No Events For You. Don't Worry! <a id="createOne" href="#organize">Let's Create One</a></p>
          {%else%}
          <div class="container pt-1">
            <div class="album py-5 bg-body">
              <div class="container">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-5">
                {%for event in events%}
                  <!-- This is event box1 -->
                    <div class="col">
                      <div class="card shadow-sm">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                          <h4 style="font-weight:550; margin-top: 10px; margin-left: 10px;">{{event.title}}</h4>
                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-whatsapp" viewBox="0 0 16 16" style="margin-right:5px">
                            <path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/>
                          </svg>
                        </div>
                        {%if event.startTime>event.startTime.now()%}
                        <small style="margin-left: 10px; color: #0a694b; font-weight: 700;" class="timer">Starts in </small>
                        <p class="startTimer" style="display: none;">{{event.startTime}}w{{event.endTime}}</p>
                        

                        {%elif event.endTime>event.endTime.now()%}
                        <small style="margin-left: 10px; color: red; font-weight: 700;" class="timer">Ends in </small>
                        <p style="display: none;" class="startTimer">{{event.endTime}}</p>
                        {%else%}
                        <small style="margin-left: 10px; color: #0a694b; font-weight: 700;">Event Successfully Completed</small>
                        {%endif%}
                        <img src="/static/voteThumbnail.jpg" alt="">
                        <div class="card-body">
                          <p class="card-text">{{event.desc}}
                          <p class="startDate">Start Date : {{event.startTime}} <br> Duration : {%if event.durHour%}{{event.durHour}} hours {%else%}{{event.durMin}} minutes {%endif%}</p>
                    
                
                        
                          <div class="d-flex justify-content-center align-items-center">
                            <a href="/{{user.id}}/{{event.id}}/explore" type="button" style="width:80%" class="btn btn-primary" >Explore</a>
                          </div>
                        </div>
                      </div>
                    </div>
                {%endfor%}
              </div>
            </div>
          </div>
        </div>
      {%endif%}
      </div>
      

    <div id="allevents">
      <div class="pt-5">
        <h1 class="pt-2">Public Events</h1>
          {% if events|length == 0 %}
            <p>No Events For You. Don't Worry! <a id="createOne" href="#organize">Let's Create One</a></p>
          {%else%}
          <div class="container pt-1">
            <div class="album py-5 bg-body">
              <div class="container">
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-5">
                {%for event in events%}
                  <!-- This is event box1 -->
                    <div class="col">
                      <div class="card shadow-sm">
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                          <h4 style="font-weight:550; margin-top: 10px; margin-left: 10px;">{{event.title}}</h4>
                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-whatsapp" viewBox="0 0 16 16" style="margin-right:5px">
                            <path d="M13.601 2.326A7.85 7.85 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.9 7.9 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.9 7.9 0 0 0 13.6 2.326zM7.994 14.521a6.6 6.6 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.56 6.56 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592m3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.73.73 0 0 0-.529.247c-.182.198-.691.677-.691 1.654s.71 1.916.81 2.049c.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232"/>
                          </svg>
                        </div>
                        {%if event.startTime>event.startTime.now()%}
                        <small style="margin-left: 10px; color: #0a694b; font-weight: 700;" class="timer">Starts in </small>
                        <p class="startTimer" style="display: none;">{{event.startTime}}w{{event.endTime}}</p>
                        

                        {%elif event.endTime>event.endTime.now()%}
                        <small style="margin-left: 10px; color: red; font-weight: 700;" class="timer">Ends in </small>
                        <p style="display: none;" class="startTimer">{{event.endTime}}</p>
                        {%else%}
                        <small style="margin-left: 10px; color: #0a694b; font-weight: 700;">Event Successfully Completed</small>
                        {%endif%}
                        <img src="/static/voteThumbnail.jpg" alt="">
                        <div class="card-body">
                          <p class="card-text">{{event.desc}}
                          <p class="startDate">Start Date : {{event.startTime}} <br> Duration : {%if event.durHour%}{{event.durHour}} hours {%else%}{{event.durMin}} minutes {%endif%}</p>
                    
                
                        
                          <div class="d-flex justify-content-center align-items-center">
                            <a href="/{{user.id}}/{{event.id}}/explore" type="button" style="width:80%" class="btn btn-primary" >Explore</a>
                          </div>
                        </div>
                      </div>
                    </div>
                {%endfor%}
              </div>
            </div>
          </div>
        </div>
      {%endif%}
      </div>
    </div>



    <div class="container d-flex justify-content-center pt-5">
      <div class="col col-sm-8 pt-5" id="organize">
        <form method="POST">
        <div class="pt-5">
          <h3 style="text-align: center;font-weight: 700;">Organise an Event</h3>
          <p style="text-align: center;font-size: smaller;color: rgb(99, 97, 97);">Complete the below fields to organise an event.</p>
        </div>
        <div class="mb-3">
          <label for="validationCustom01" class="form-label" style="margin-bottom: 1px;">Title<p style="display: inline;color: rgb(184, 4, 4);">*</p></label>
          <input type="text" class="form-control" id="formGroupExampleInput" placeholder="Enter Title of Event" name="title" required>
        </div>
    
        <div class="mb-3">
          <label for="exampleFormControlTextarea1" class="form-label">Add Description</label>
          <textarea class="form-control" id="exampleFormControlTextarea1" rows="2" name="desc"></textarea>
        </div>
        <span>
          <p class="mb-2" style="display: inline">Choose Start of Event<p style="display: inline;color: rgb(184, 4, 4);">*</p></p>
          <div class="col-sm-12 col-md-3 col-lg-3">
            <select class="form-select c" aria-label="Default select example" name="date" required>
              <option selected>Date</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
              <option value="11">11</option>
              <option value="12">12</option>
              <option value="13">13</option>
              <option value="14">14</option>
              <option value="15">15</option>
              <option value="16">16</option>
              <option value="17">17</option>
              <option value="18">18</option>
              <option value="19">19</option>
              <option value="20">20</option>
              <option value="21">21</option>
              <option value="22">22</option>
              <option value="23">23</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="26">26</option>
              <option value="27">27</option>
              <option value="28">28</option>
              <option value="29">29</option>
              <option value="30">30</option>
              <option value="31">31</option>
            </select>
          </div>
          <div  class="col-sm-12 col-md-3 col-lg-3">
            <select class="form-select c " aria-label="Default select example" name="month" required>
              <option selected>Month</option>
              <option value="1">Jan</option>
              <option value="2">Feb</option>
              <option value="3">Mar</option>
              <option value="4">Apr</option>
              <option value="5">May</option>
              <option value="6">Jun</option>
              <option value="7">Jul</option>
              <option value="8">Aug</option>
              <option value="9">Sep</option>
              <option value="10">Oct</option>
              <option value="11">Nov</option>
              <option value="12">Dec</option>
            </select>
          </div>
          <div class="col-sm-12 col-md-3 col-lg-3">
            <select class="form-select c " aria-label="Default select example" name="year" required>
            <option selected>Year</option>
            <option value="2024">2024</option>
            <option value="2025">2025</option>
            <option value="2026">2026</option>
            <option value="2027">2027</option>
            <option value="2028">2028</option>
            <option value="2029">2029</option>
            <option value="2030">2030</option>
          </select>
          <div class="cs-form">
            <input type="time" class="form-control" name="stime" />
          </div>
        </div>
        </span>
        <br><br>
        <p style="line-height: 10px;" >Duration of Event</p>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" value="durh" checked>
          <label class="form-check-label" for="flexRadioDefault1">
            <select class="form-select c " aria-label="Default select example" name="extendhour" >
              <option value="1" selected>1 Hour</option>
              <option value="2">2 Hours</option>
              <option value="3">3 Hours</option>
              <option value="4">4 Hours</option>
              <option value="5">5 Hours</option>
              <option value="6">6 Hours</option>
              <option value="7">7 Hours</option>
              <option value="8">8 Hours</option>
              <option value="9">9 Hours</option>
              <option value="10">10 Hours</option>
              <option value="11">11 Hours</option>
              <option value="12">12 Hours</option>
              <option value="13">13 Hours</option>
              <option value="14">14 Hours</option>
              <option value="15">15 Hours</option>
              <option value="16">16 Hours</option>
              <option value="17">17 Hours</option>
              <option value="18">18 Hours</option>
              <option value="19">19 Hours</option>
              <option value="20">20 Hours</option>
              <option value="21">21 Hours</option>
              <option value="22">22 Hours</option>
              <option value="23">23 Hours</option>
              <option value="24">24 Hours</option>
            </select>
          </label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2" value="durm">
          <label class="form-check-label" for="flexRadioDefault2">
            <select class="form-select c " aria-label="select example" id="flexRadioDefault2" name="extendminute"> 
              <option value="5" selected>5 min</option>
              <option value="10">10 min</option>
              <option value="15">15 min</option>
              <option value="20">20 min</option>
              <option value="25">25 min</option>
              <option value="30">30 min</option>
              <option value="35">35 min</option>
              <option value="40">40 min</option>
              <option value="45">45 min</option>
              <option value="50">50 min</option>
              <option value="55">55 min</option>
            </select>
          </label>
        </div>
    
        </br><br>
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
          <label class="form-check-label" for="flexSwitchCheckDefault">Public Event</label>
        </div>
    
        <div class="form-check">
          <input class="form-check-input" type="checkbox" name="checkNumWinners" id="no-of-winner">
          Select if number of Winner is greater than 1
          <label class="form-check-label" for="no-of-winner">
            <select class="form-select form-select-sm" aria-label="Small select example" id="winner-select" name="numWinners">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
            </select>
          </label>
        </div>
    
    
    
       
        <div class="input-group mb-3 mt-3">
          <div class="input-group-text">
            <input class="form-check-input mt-0" type="checkbox" name="allowcand" aria-label="Checkbox for following text input">
          </div>
          <span class="input-group-text">Candidates</span>
          <textarea class="form-control" aria-label="With textarea" rows="2" name="candidates" placeholder="check the checkbox to enter candidates email-ids separated with commas"></textarea>
        </div>
        
        <div class="input-group">
          <span class="input-group-text">Voters<p style="display: inline;color: rgb(184, 4, 4);">*</p></span>
          <textarea class="form-control" aria-label="With textarea" rows="5" name="voters" placeholder="enter voters email-ids separated with commas" required></textarea>
        </div>
      <button type="submit" class="btn btn-primary mt-3" name="request" >Request for Event</button>
    
      </form>   
      </div>
    </div>
  </div>

      <script src="/static/specific-event.js"></script>
      <script src="/static/timer.js"></script>
</body>
</html>
